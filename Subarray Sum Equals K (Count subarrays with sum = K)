// Pseudocode / outline: maintain prefix sum and a map from prefix_sum -> count
int countSubarraysSumK(int arr[], int n, int K) {
    long long prefix = 0;
    int count = 0;
    // map: prefix_sum â†’ frequency (e.g. using unordered_map in C++ or custom in C)
    // initialize map[0] = 1
    for (int i = 0; i < n; i++) {
        prefix += arr[i];
        if (map_contains(prefix - K))
            count += map_get(prefix - K);
        map_increment(prefix);
    }
    return count;
}
