#include <stdio.h>
#include <stdlib.h>

typedef struct Node {
    int val;
    struct Node* left;
    struct Node* right;
} Node;

Node* newNode(int v){ Node* n = malloc(sizeof(Node)); n->val=v; n->left=n->right=NULL; return n; }

/* Queue for BFS */
typedef struct Q { Node** arr; int head, tail, cap; } Q;
Q* qinit(int n){ Q* q=malloc(sizeof(Q)); q->arr=malloc(sizeof(Node*)*n); q->head=q->tail=0; q->cap=n; return q;}
void qpush(Q* q, Node* x){ q->arr[q->tail++]=x; }
Node* qpop(Q* q){ return q->arr[q->head++]; }
int qempty(Q* q){ return q->head==q->tail; }

int height(Node* root){
    if(!root) return 0;
    int lh = height(root->left);
    int rh = height(root->right);
    return 1 + (lh>rh?lh:rh);
}

void levelOrder(Node* root){
    if(!root) return;
    Q* q = qinit(1000);
    qpush(q, root);
    while(!qempty(q)){
        Node* cur = qpop(q);
        printf("%d ", cur->val);
        if(cur->left) qpush(q, cur->left);
        if(cur->right) qpush(q, cur->right);
    }
    printf("\n");
}

int main(){
    Node* root = newNode(1);
    root->left = newNode(2); root->right = newNode(3);
    root->left->left = newNode(4); root->left->right = newNode(5);
    levelOrder(root); // 1 2 3 4 5
    printf("Height: %d\n", height(root)); // 3
    return 0;
}
