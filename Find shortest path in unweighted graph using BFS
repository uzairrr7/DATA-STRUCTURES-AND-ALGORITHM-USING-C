#include <stdio.h>
#include <stdlib.h>
#define MAXV 50
#define INF 1000000

int adj[MAXV][MAXV], V;
int dist[MAXV];
int visited[MAXV];

void init_graph(int v) {
    V = v;
    for(int i=0;i<V;i++) {
        visited[i]=0;
        dist[i]=INF;
        for(int j=0;j<V;j++)
            adj[i][j]=0;
    }
}

void add_edge(int u, int v) {
    adj[u][v] = 1;
    adj[v][u] = 1;  // if undirected
}

void bfs(int src) {
    int queue[MAXV];
    int front=0, rear=0;
    queue[rear++] = src;
    visited[src] = 1;
    dist[src] = 0;
    while(front < rear) {
        int u = queue[front++];
        for(int v=0; v<V; v++) {
            if(adj[u][v] && !visited[v]) {
                visited[v] = 1;
                dist[v] = dist[u] + 1;
                queue[rear++] = v;
            }
        }
    }
}

int main() {
    init_graph(6);
    add_edge(0,1);
    add_edge(0,2);
    add_edge(1,3);
    add_edge(2,4);
    add_edge(4,5);
    bfs(0);
    for(int i=0;i<V;i++) {
        printf("Distance from 0 to %d is %d\n", i, dist[i]);
    }
    return 0;
}
