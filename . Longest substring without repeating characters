#include <stdio.h>
#include <string.h>

#define ALPHA_SIZE 256

// returns length of the longest substring without repeating characters
int lengthOfLongestSubstring(const char *s) {
    int lastIndex[ALPHA_SIZE];
    int i, start = 0, maxLen = 0, len = strlen(s);

    // initialize last seen index to -1
    for (i = 0; i < ALPHA_SIZE; i++) {
        lastIndex[i] = -1;
    }

    for (i = 0; i < len; i++) {
        unsigned char c = (unsigned char) s[i];

        // if this char was seen after or at current start, move start
        if (lastIndex[c] >= start) {
            start = lastIndex[c] + 1;
        }

        // update maxLen
        if (i - start + 1 > maxLen) {
            maxLen = i - start + 1;
        }

        // update last index of this char
        lastIndex[c] = i;
    }
    return maxLen;
}

int main() {
    char s1[] = "abcabcbb";
    char s2[] = "bbbbb";
    char s3[] = "pwwkew";

    printf("Longest substring no repeats of \"%s\" → %d\n", s1, lengthOfLongestSubstring(s1));
    printf("Longest substring no repeats of \"%s\" → %d\n", s2, lengthOfLongestSubstring(s2));
    printf("Longest substring no repeats of \"%s\" → %d\n", s3, lengthOfLongestSubstring(s3));

    return 0;
}
